<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Html5-dropzone by stevendwood</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/default.min.css">
    <script src="javascripts/scale.fix.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header class="without-description">
        <h1>Html5-dropzone</h1>
        <p></p>
        <p class="view"><a href="https://github.com/stevendwood/html5-dropzone">View the Project on GitHub <small>stevendwood/html5-dropzone</small></a></p>
        <ul>
          <li><a href="https://github.com/stevendwood/html5-dropzone/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/stevendwood/html5-dropzone/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/stevendwood/html5-dropzone">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a name="html5-dropzone" class="anchor" href="#html5-dropzone"><span class="octicon octicon-link"></span></a>HTML5 [dropzone]</h3>

<div class="highlight highlight-javascript"><pre><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">dropzone</span><span class="o">=</span><span class="s2">"copy s:text/plain s:text/x-fruit"</span><span class="o">&gt;</span>
</pre></div>

<h2>
<a name="cross-browser-html5-drag-and-drop" class="anchor" href="#cross-browser-html5-drag-and-drop"><span class="octicon octicon-link"></span></a>Cross browser HTML5 drag and drop</h2>
      </section>
      <section>

      In this example, drag and drop fruits betweem the two lists, use the platform keyboard modifiers to control whether elements are moved or copied between the lists.

      <div class="sample">
      <p>What fruits do you like?</p>
      <ol ondragstart="dragStartHandler(event)" ondragend="dragEndHandler(event)">
       <li draggable="true" data-value="fruit-apple">Apples</li>
       <li draggable="true" data-value="fruit-orange">Oranges</li>
       <li draggable="true" data-value="fruit-pear">Pears</li>
      </ol>

      <p>Drop your favorite fruits below, use ctrl on windows to control copy or move:</p>
      <ol dropzone="move string:text/x-example" ondrop="dropHandler(event)" ondragend="dragEndHandler(event)" ondragstart="dragStartHandler(event)">
      </ol>
    </div>
    <script>

        var internalDNDType = 'text/x-example'; // set this to something specific to your site
        function dragStartHandler(event) {
          if (event.target instanceof HTMLLIElement) {
              // use the element's data-value="" attribute as the value to be moving:
              event.dataTransfer.setData(internalDNDType, event.target.dataset.value);
              event.dataTransfer.effectAllowed = 'copyMove'; // only allow moves
          } else {
              event.preventDefault(); // don't allow selection to be dragged
          }
        }

      function dragEndHandler(event) {
          var dropEffect = event.dataTransfer.getDropEffect();

          if (dropEffect === "move") {
            event.target.parentElement.removeChild(event.target);
          }
      }

      function dropHandler(event) {
          var li = document.createElement('li'),
              target = event.target,
              data = event.dataTransfer.getData(internalDNDType);
          if (data == 'fruit-apple') {
              li.textContent = 'Apples';
          } else if (data == 'fruit-orange') {
              li.textContent = 'Oranges';
          } else if (data == 'fruit-pear') {
              li.textContent = 'Pears';
          } else {
              li.textContent = 'Unknown Fruit';
          }
          
          if (target instanceof HTMLLIElement) {
            target.parentElement.appendChild(li);
          } else {
            target.appendChild(li);
          }
        }
    </script>
    <pre><code class="html">
      
  &lt;ol ondragstart=&quot;dragStartHandler(event)&quot; ondragend=&quot;dragEndHandler(event)&quot;&gt; 
    &lt;li draggable=&quot;true&quot; data-value=&quot;fruit-apple&quot;&gt;Apples&lt;/li&gt;
    &lt;li draggable=&quot;true&quot; data-value=&quot;fruit-orange&quot;&gt;Oranges&lt;/li&gt;
    &lt;li draggable=&quot;true&quot; data-value=&quot;fruit-pear&quot;&gt;Pears&lt;/li&gt;
  &lt;/ol&gt; 

  &lt;ol dropzone=&quot;move string:text/x-example&quot;&gt; &lt;/ol&gt;  

    </code></pre>

    <pre><code class="javascript">
      var internalDNDType = 'text/x-example'; // set this to something specific to your site
      function dragStartHandler(event) {
        if (event.target instanceof HTMLLIElement) {
            // use the element's data-value="" attribute as the value to be moving:
            event.dataTransfer.setData(internalDNDType, event.target.dataset.value);
            event.dataTransfer.effectAllowed = 'copyMove'; // only allow moves
        } else {
            event.preventDefault(); // don't allow selection to be dragged
        }
      }

      function dragEndHandler(event) {
        var dropEffect = event.dataTransfer.getDropEffect();

        if (dropEffect === "move") {
          event.target.parentElement.removeChild(event.target);
        }
      }

      function dropHandler(event) {
        var li = document.createElement('li'),
            target = event.target,
            data = event.dataTransfer.getData(internalDNDType);

        if (data == 'fruit-apple') {
          li.textContent = 'Apples';
        } else if (data == 'fruit-orange') {
          li.textContent = 'Oranges';
        } else if (data == 'fruit-pear') {
          li.textContent = 'Pears';
        } else {
          li.textContent = 'Unknown Fruit';
        }
          
        if (target instanceof HTMLLIElement) {
          target.parentElement.appendChild(li);
        } else {
          target.appendChild(li);
        }
      }

    </code></pre>

      </section>

    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/stevendwood">stevendwood</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <script src="dist/dropzone.min.js"></script>
  </body>
</html>