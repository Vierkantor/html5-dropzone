"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return i(n?n:t)},d,d.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){!function(){var e,n,r=t("./Type"),i=t("./Kind"),s=window.DataTransfer||window.Clipboard,o={};s&&(e=s.prototype.setData,n=s.prototype.getData,o={},s.prototype.setData=function(t,n){try{e.call(this,t,n)}catch(a){if(o[t]=n,t===r.TEXT_PLAIN)e.call(this,r.TEXT,n);else if(t===r.TEXT_URI_LIST)return e.call(this,r.URL,n);s.prototype.items=s.prototype.items||[],s.prototype.items.push({kind:i.STRING,type:t,value:n})}},s.prototype.getData=function(t){try{return n.call(this,t)}catch(e){var i=o[t];if(i)return i;if(t===r.TEXT_PLAIN)return n.call(this,r.TEXT);if(t===r.TEXT_URI_LIST)return n.call(this,r.URL)}},document.body.addEventListener("dragend",function(){delete s.prototype.items,o={}}))}()},{"./Kind":4,"./Type":6}],2:[function(t,e,n){e.exports=function(){function t(t){var e=Object.getOwnPropertyNames(this.items);e.forEach(function(e){var n;this.items.hasOwnProperty(e)&&(n=this.items[e],"function"==typeof n&&(n=n.call(this,this.element)),t.dataTransfer.setData(e,n))},this)}function e(t){this.effectAllowed&&("function"==typeof this.effectAllowed?t.dataTransfer.effectAllowed=this.effectAllowed():t.dataTransfer.effectAllowed=this.effectAllowed)}function n(n){var r,i,s,o,a=this.element.getBoundingClientRect(),c=document.documentElement.scrollTop||document.body.scrollTop,d=document.documentElement.scrollLeft||document.body.scrollLeft;r="function"==typeof this.ghostElementOrFunction?this.ghostElementOrFunction():this.ghostElementOrFunction,s=n.pageX,o=n.pageY,this.offsetX=s-(a.left+d),this.offsetY=o-(a.top+c),i=r.style,i.top=a.top+c+"px",i.left=a.left+d+"px",i.pointerEvents="none",i.position="absolute",i.margin="0px",i.zIndex="999",document.body.appendChild(r),requestAnimationFrame(function(){return document.body.removeChild(r)}),n.dataTransfer&&"function"==typeof n.dataTransfer.setDragImage?n.dataTransfer.setDragImage(r,this.offsetX,this.offsetY):"function"==typeof r.dragDrop&&(r.addEventListener("dragstart",t.bind(this)),r.addEventListener("dragstart",function(t){this.dragStartListeners.forEach(function(e){return e(t)})}.bind(this)),r.addEventListener("dragend",function(t){this.dragEndListeners.forEach(function(e){return e(t)})}.bind(this)),r.addEventListener("dragstart",e.bind(this)),r.dragDrop())}var r,i=window.DataTransfer||window.Clipboard;i&&(r="function"==typeof i.prototype.setDragImage);var s=function(){function i(n){if(_classCallCheck(this,i),"string"==typeof n&&(n=document.querySelector(n)),!n||!n.addEventListener)throw"Invalid element or selector specified as dragsource "+n;this.element=n,this.items={},n.setAttribute("draggable",!0),n.addEventListener("dragstart",t.bind(this)),n.addEventListener("dragstart",e.bind(this)),this.dragStartListeners=[],this.dragEndListeners=[]}return _createClass(i,[{key:"setData",value:function(t,e){return this.items[t]=e,this}},{key:"ghost",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];this.ghostElementOrFunction=t,this.offsetX=e,this.offsetY=i;var s=n.bind(this);return r?this.element.addEventListener("dragstart",s):(this.element.setAttribute("draggable",!1),this.element.addEventListener("selectstart",function(t){t.stopPropagation(),t.preventDefault(),s(t)})),this}},{key:"on",value:function(t,e){return this.element.addEventListener(t,e.bind(this)),"dragstart"!==t||r?"dragend"!==t||r||this.dragEndListeners.push(e.bind(this)):this.dragStartListeners.push(e.bind(this)),this}},{key:"effectAllowed",value:function(t){return this.effectAllowed=t,this}}]),i}();return s}()},{}],3:[function(t,e,n){e.exports=function(){function e(t,e){t.classList.remove(o.COPY),t.classList.remove(o.MOVE),t.classList.remove(o.LINK),t.classList.remove(e)}function n(t){var n,r,i,f,l,u,p=!1,h=t.dataTransfer;l=t.altKey?d?o.COPY:o.LINK:t.ctrlKey?d?o.LINK:o.COPY:t.metaKey?o.MOVE:this.operation;try{if(u=h.effectAllowed,!(u===o.ALL||u===o.UNINITIALIZED||u.toUpperCase().indexOf(l.toUpperCase())>-1))return e(this.element,this.dragEnterClass),!1;h.dropEffect=l}catch(y){h.dropEffect=l}return s=l,i=h.items,f=h.types,f&&!i&&(i=[].map.call(f,function(t){return t===c.FILES?{kind:a.FILE,type:c.UNKNOWN}:{kind:a.STRING,type:t}})),Array.isArray(i)||(i=[].slice.call(i,0)),p=i.some(function(t){for(n=0,r=this.acceptsList.length;r>n;n++){var e=this.acceptsList[n];if(t.kind===e.kind||"*"===e.kind){if(t.type===e.type||"*"===e.type||t.type===c.UNKNOWN)return!0;if(e.type.indexOf("/*")>-1){var i=e.type.substring(0,e.type.indexOf("/*"));if(t.type.substring(0,t.type.indexOf("/"))===i)return!0}}}},this),console.debug(p),p?(this.element.classList.contains(l)||(this.element.classList.remove(o.COPY),this.element.classList.remove(o.MOVE),this.element.classList.remove(o.LINK),this.element.classList.add(l)),this.element.classList.contains(this.dragEnterClass)||this.element.classList.add(this.dragEnterClass)):e(this.element,this.dragEnterClass),p}function r(t){var e,n=[];return t=t.split(" "),t.forEach(function(t){if(t.indexOf(":")>-1){var r=t.split(":"),i=r[0],s=r[1];"f"===i?i=a.FILE:"s"===i&&(i=a.STRING),n.push({kind:i,type:s})}else e||[o.COPY,o.MOVE,o.LINK].indexOf(t)>-1&&(e=t)}),e=e||o.COPY,0===n.length&&(n=[{kind:"*",type:"*"}]),{operation:e,accepts:n}}var i,s,o=t("./Operation"),a=t("./Kind"),c=t("./Type"),d=-1!==window.navigator.platform.indexOf("Mac"),f=window.DataTransfer||window.Clipboard;f.prototype.getDropEffect=function(){return i?s:this.dropEffect};var l=function(){function t(s,a){_classCallCheck(this,t);var c,d,f=n.bind(this),l=0;if(c=function(t){f(t)&&(t.preventDefault(),t.stopPropagation())},"string"==typeof s&&(s=document.querySelector(s)),this.element=s,this.dragEnterClass="drag-matches","object"===("undefined"==typeof a?"undefined":_typeof(a)))this.dragEnterClass=a.dragEnterClass||this.dragEnterClass,this.operation=a.operation,this.accepts(a.accepts);else{var u;u="string"==typeof a?a:s.getAttribute("dropzone");var p=r(u);this.operation=p.operation||o.COPY,this.accepts(p.accepts)}d=function(){l=0,e(this.element,this.dragEnterClass),setTimeout(function(){i=!1},100)}.bind(this),s.addEventListener("dragenter",function(t){l++,1===l&&f(t)&&s.classList.add(this.dragEnterClass)}.bind(this)),s.addEventListener("dragleave",function(t){l--,0===l&&d()}.bind(this)),s.addEventListener("dragenter",c),s.addEventListener("dragover",c),document.body.addEventListener("dragend",function(){setTimeout(d)}),s.addEventListener("drop",function(){i=!0,d()})}return _createClass(t,[{key:"accepts",value:function(t){return this.acceptsList=Array.isArray(t)?t:[t],this.acceptsList.forEach(function(t,e){t.kind===a.STRING&&t.type===c.TEXT_PLAIN?this.acceptsList.push({kind:t.kind,type:c.TEXT}):t.kind===a.STRING&&t.type===c.TEXT_URI_LIST&&this.acceptsList.push({kind:t.kind,type:c.URL})},this),this}}]),t}();return l}()},{"./Kind":4,"./Operation":5,"./Type":6}],4:[function(t,e,n){e.exports={FILE:"file",STRING:"string"}},{}],5:[function(t,e,n){e.exports={COPY:"copy",MOVE:"move",LINK:"link",ALL:"all",NONE:"none",UNINITIALIZED:"uninitialized"}},{}],6:[function(t,e,n){e.exports={TEXT:"Text",URL:"Url",FILES:"Files",TEXT_PLAIN:"text/plain",TEXT_URI_LIST:"text/uri-list",UNKNOWN:"<unavailable>"}},{}],7:[function(t,e,n){!function(){t("./DataTransfer.js");var e=t("./DragSource"),n=t("./DropZone");window.draggable=function(t){return new e(t)},window.dropzone=function(t,e){return new n(t,e)};[].forEach.call(document.querySelectorAll("[dropzone]"),dropzone)}()},{"./DataTransfer.js":1,"./DragSource":2,"./DropZone":3}]},{},[7]);